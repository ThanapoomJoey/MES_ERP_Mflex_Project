## Original Tables

**1. ตาราง: `Customers` (ลูกค้า)**

*   `CustomerID` (VARCHAR(50), PK): รหัสลูกค้า (Primary Key)
    *   *บอกอะไรเรา:* ตัวระบุที่ไม่ซ้ำกันสำหรับแต่ละลูกค้า
*   `CustomerName` (VARCHAR(255), NOT NULL): ชื่อลูกค้า
    *   *บอกอะไรเรา:* ชื่อเต็มของบริษัทหรือบุคคลที่เป็นลูกค้า
*   `ContactPerson` (VARCHAR(150)): ชื่อผู้ติดต่อ
    *   *บอกอะไรเรา:* บุคคลที่สามารถติดต่อได้ที่บริษัทลูกค้า
*   `Email` (VARCHAR(255)): อีเมล
    *   *บอกอะไรเรา:* อีเมลสำหรับติดต่อลูกค้า
*   `Phone` (VARCHAR(50)): เบอร์โทรศัพท์
    *   *บอกอะไรเรา:* เบอร์โทรศัพท์สำหรับติดต่อลูกค้า
*   `Address` (TEXT): ที่อยู่
    *   *บอกอะไรเรา:* ที่ตั้งของลูกค้า

**2. ตาราง: `Products` (ผลิตภัณฑ์ - Finished Goods และ Sub-Assemblies ที่ผลิต)**

*   `ProductID` (VARCHAR(50), PK): รหัสผลิตภัณฑ์
    *   *บอกอะไรเรา:* ตัวระบุที่ไม่ซ้ำกันสำหรับแต่ละผลิตภัณฑ์ที่เราผลิตและขาย
*   `ProductName` (VARCHAR(255), NOT NULL): ชื่อผลิตภัณฑ์
    *   *บอกอะไรเรา:* ชื่อเรียกของผลิตภัณฑ์
*   `ProductType` (VARCHAR(100), NOT NULL): ประเภทผลิตภัณฑ์ (เช่น 'FPC', 'Assembled_FPC', 'Module')
    *   *บอกอะไรเรา:* การจัดกลุ่มผลิตภัณฑ์ตามลักษณะหรือขั้นตอนการผลิต
*   `TargetYield` (DECIMAL(5, 4), DEFAULT 0.9500): เป้าหมาย Yield ของผลิตภัณฑ์นี้
    *   *บอกอะไรเรา:* อัตราส่วนของดีที่คาดหวังต่อจำนวนที่เข้ากระบวนการผลิตทั้งหมดสำหรับผลิตภัณฑ์นี้
*   `StandardCycleTime_Seconds` (INT): เวลามาตรฐานในการผลิตต่อหน่วย (วินาที)
    *   *บอกอะไรเรา:* เวลาที่ควรจะใช้ในการผลิตสินค้าชิ้นนี้ 1 หน่วยตามมาตรฐาน
*   `FPC_Layers` (INT): จำนวนชั้น (สำหรับ FPC)
    *   *บอกอะไรเรา:* คุณลักษณะเฉพาะของผลิตภัณฑ์ FPC (จำนวนชั้นทองแดง)
*   `FPC_CopperThickness_um` (INT): ความหนาทองแดง (ไมโครเมตร, สำหรับ FPC)
    *   *บอกอะไรเรา:* คุณลักษณะเฉพาะของผลิตภัณฑ์ FPC
*   `FPC_Dielectric` (VARCHAR(100)): วัสดุ Dielectric (สำหรับ FPC)
    *   *บอกอะไรเรา:* คุณลักษณะเฉพาะของผลิตภัณฑ์ FPC
*   `SalesUnitPrice` (DECIMAL(18, 2), DEFAULT 0.00): ราคาขายต่อหน่วย
    *   *บอกอะไรเรา:* ราคาที่เราขายผลิตภัณฑ์นี้ให้กับลูกค้า

**3. ตาราง: `Materials` (วัตถุดิบ/ชิ้นส่วน และ Sub-Assemblies ที่ซื้อมาหรือผลิตเองเพื่อใช้ต่อ)**

*   `MaterialID` (VARCHAR(50), PK): รหัสวัตถุดิบ/ชิ้นส่วน
    *   *บอกอะไรเรา:* ตัวระบุที่ไม่ซ้ำกันสำหรับแต่ละวัตถุดิบ, ส่วนประกอบ, หรือ sub-assembly ที่ใช้ในการผลิต
*   `MaterialName` (VARCHAR(255), NOT NULL): ชื่อวัตถุดิบ/ชิ้นส่วน
    *   *บอกอะไรเรา:* ชื่อเรียกของวัตถุดิบหรือชิ้นส่วน
*   `MaterialType` (VARCHAR(100)): ประเภทวัตถุดิบ (เช่น 'RawMaterial', 'Component', 'Consumable', 'SubAssembly_FPC')
    *   *บอกอะไรเรา:* การจัดกลุ่มวัตถุดิบ/ชิ้นส่วน
*   `UnitOfMeasure` (VARCHAR(20)): หน่วยนับ
    *   *บอกอะไรเรา:* หน่วยที่ใช้วัดปริมาณวัตถุดิบ (เช่น 'Pieces', 'Roll (m2)', 'Gram')
*   `StandardCost` (DECIMAL(18, 4), DEFAULT 0.0000): ต้นทุนมาตรฐานต่อหน่วย
    *   *บอกอะไรเรา:* ต้นทุนโดยประมาณของวัตถุดิบนี้ต่อหน่วย

**4. ตาราง: `BillOfMaterials` (BOM - รายการวัตถุดิบต่อผลิตภัณฑ์)**

*   `BOM_ID` (BIGSERIAL, PK): ID ของรายการ BOM (Auto-increment)
*   `Parent_ProductID_FK` (VARCHAR(50), NOT NULL, FK to Products): รหัสผลิตภัณฑ์แม่ (ผลิตภัณฑ์ที่ต้องการผลิต)
    *   *บอกอะไรเรา:* ผลิตภัณฑ์ที่เรากำลังดูโครงสร้างส่วนประกอบ
*   `Component_MaterialID_FK` (VARCHAR(50), NOT NULL, FK to Materials): รหัสวัตถุดิบ/ชิ้นส่วนลูก
    *   *บอกอะไรเรา:* วัตถุดิบหรือส่วนประกอบที่จำเป็นในการผลิตผลิตภัณฑ์แม่
*   `QuantityPerParent` (DECIMAL(10, 4), NOT NULL): จำนวนที่ต้องใช้ต่อผลิตภัณฑ์แม่ 1 หน่วย
    *   *บอกอะไรเรา:* ปริมาณของส่วนประกอบนี้ที่ต้องใช้เพื่อผลิตผลิตภัณฑ์แม่ 1 ชิ้น
*   `BOM_Level` (INT, DEFAULT 1): ระดับในโครงสร้าง BOM (เช่น 1 คือลูกโดยตรง, 2 คือหลาน)
    *   *บอกอะไรเรา:* ลำดับชั้นของส่วนประกอบในโครงสร้างผลิตภัณฑ์
*   `EffectiveDate` (TIMESTAMP, DEFAULT CURRENT_TIMESTAMP): วันที่ BOM นี้เริ่มมีผลบังคับใช้
    *   *บอกอะไรเรา:* การควบคุมเวอร์ชันของ BOM ตามช่วงเวลา
*   `Version` (VARCHAR(20), DEFAULT '1.0'): เวอร์ชันของ BOM
    *   *บอกอะไรเรา:* การจัดการการเปลี่ยนแปลงโครงสร้างผลิตภัณฑ์

**5. ตาราง: `Inventory` (สินค้าคงคลัง)**

*   `InventoryItemID` (VARCHAR(50), PK): รหัสไอเท็มในคลัง (อาจจะเป็น ProductID หรือ MaterialID)
    *   *บอกอะไรเรา:* ตัวระบุของสิ่งที่เก็บในคลัง
*   `ItemDescription` (VARCHAR(255), NOT NULL): รายละเอียดไอเท็ม
    *   *บอกอะไรเรา:* ชื่อหรือคำอธิบายของไอเท็มในคลัง
*   `ItemType` (VARCHAR(50), NOT NULL): ประเภทไอเท็มในคลัง (เช่น 'RawMaterial', 'Component', 'FinishedGood_FPC')
    *   *บอกอะไรเรา:* การจัดกลุ่มของในคลัง
*   `QuantityOnHand` (INT, NOT NULL, DEFAULT 0): จำนวนคงเหลือในคลัง
    *   *บอกอะไรเรา:* ปริมาณปัจจุบันของไอเท็มนี้ที่มีอยู่ในสต็อก
*   `QuantityOnOrder` (INT, DEFAULT 0): จำนวนที่สั่งซื้อไปแล้ว (รอรับเข้า)
    *   *บอกอะไรเรา:* ปริมาณที่กำลังจะเข้ามาเติมสต็อก (สำหรับวัตถุดิบ)
*   `QuantityAllocated` (INT, DEFAULT 0): จำนวนที่ถูกจัดสรรให้กับการผลิตหรือคำสั่งขายแล้ว
    *   *บอกอะไรเรา:* ปริมาณที่ถูกจองไว้แล้ว ไม่สามารถนำไปใช้กับงานอื่นได้
*   `ReorderLevel` (INT, DEFAULT 0): ระดับที่ต้องสั่งซื้อใหม่
    *   *บอกอะไรเรา:* จุดที่ต้องทำการสั่งซื้อเพิ่มเมื่อสต็อกลดลงถึงระดับนี้
*   `LastStocktakeDate` (TIMESTAMP): วันที่ตรวจนับสต็อกล่าสุด
    *   *บอกอะไรเรา:* การยืนยันความถูกต้องของสต็อก
*   `StorageLocation` (VARCHAR(100)): สถานที่จัดเก็บในคลัง
    *   *บอกอะไรเรา:* ตำแหน่งที่เก็บไอเท็มนี้

**6. ตาราง: `SalesOrders` (คำสั่งซื้อจากลูกค้า)**

*   `SalesOrderID` (VARCHAR(50), PK): รหัสคำสั่งซื้อ
    *   *บอกอะไรเรา:* ตัวระบุที่ไม่ซ้ำกันสำหรับแต่ละคำสั่งซื้อจากลูกค้า
*   `CustomerID_FK` (VARCHAR(50), NOT NULL, FK to Customers): รหัสลูกค้า
    *   *บอกอะไรเรา:* ลูกค้าที่เป็นเจ้าของคำสั่งซื้อนี้
*   `OrderDate` (TIMESTAMP, NOT NULL, DEFAULT CURRENT_TIMESTAMP): วันที่สั่งซื้อ
    *   *บอกอะไรเรา:* วันที่ลูกค้าทำการสั่งซื้อ
*   `RequiredDeliveryDate` (TIMESTAMP): วันที่ลูกค้าต้องการให้ส่งมอบสินค้า
    *   *บอกอะไรเรา:* กำหนดส่งมอบที่ตกลงกับลูกค้า
*   `OrderStatus` (VARCHAR(50), NOT NULL, DEFAULT 'Pending'): สถานะคำสั่งซื้อ (เช่น 'Pending', 'Processing', 'Shipped', 'Cancelled')
    *   *บอกอะไรเรา:* ความคืบหน้าของคำสั่งซื้อ
*   `ShippingAddress` (TEXT): ที่อยู่จัดส่ง
    *   *บอกอะไรเรา:* สถานที่ที่ต้องส่งสินค้าไปให้ลูกค้า
*   `TotalAmount` (DECIMAL(18, 2), DEFAULT 0.00): ยอดรวมของคำสั่งซื้อ
    *   *บอกอะไรเรา:* มูลค่าทั้งหมดของคำสั่งซื้อนี้

**7. ตาราง: `SalesOrderLines` (รายการสินค้าในคำสั่งซื้อ)**

*   `SalesOrderLineID` (BIGSERIAL, PK): ID ของรายการสินค้า (Auto-increment)
*   `SalesOrderID_FK` (VARCHAR(50), NOT NULL, FK to SalesOrders): รหัสคำสั่งซื้อ
    *   *บอกอะไรเรา:* คำสั่งซื้อแม่ของรายการสินค้านี้
*   `ProductID_FK` (VARCHAR(50), NOT NULL, FK to Products): รหัสผลิตภัณฑ์
    *   *บอกอะไรเรา:* สินค้าที่ลูกค้าสั่งในรายการนี้
*   `QuantityOrdered` (INT, NOT NULL): จำนวนที่สั่ง
    *   *บอกอะไรเรา:* ปริมาณของผลิตภัณฑ์นี้ที่ลูกค้าต้องการ
*   `UnitPrice` (DECIMAL(18, 2), NOT NULL): ราคาต่อหน่วย
    *   *บอกอะไรเรา:* ราคาขายของผลิตภัณฑ์นี้ต่อหน่วย ณ เวลาที่สั่งซื้อ
*   `LineTotalAmount` (DECIMAL(18,2), GENERATED ALWAYS AS (QuantityOrdered * UnitPrice) STORED): ยอดรวมของรายการนี้
    *   *บอกอะไรเรา:* มูลค่ารวมของรายการสินค้านี้ (คำนวณอัตโนมัติ)
*   `LineStatus` (VARCHAR(50), NOT NULL, DEFAULT 'Open'): สถานะของรายการสินค้านี้ (เช่น 'Open', 'Processing', 'Shipped')
    *   *บอกอะไรเรา:* ความคืบหน้าในการจัดการรายการสินค้านี้

**8. ตาราง: `WorkOrders` (คำสั่งผลิต)**

*   `WorkOrderID` (VARCHAR(50), PK): รหัสคำสั่งผลิต
    *   *บอกอะไรเรา:* ตัวระบุที่ไม่ซ้ำกันสำหรับแต่ละงานที่สั่งให้ฝ่ายผลิตทำ
*   `SalesOrderLineID_FK` (BIGINT, NULL, FK to SalesOrderLines): ID ของรายการสินค้าในคำสั่งซื้อ (ถ้า WO นี้ถูกสร้างเพื่อตอบสนอง SO)
    *   *บอกอะไรเรา:* เชื่อมโยงคำสั่งผลิตนี้กับความต้องการของลูกค้าโดยตรง
*   `ProductID_FK` (VARCHAR(50), NOT NULL, FK to Products): รหัสผลิตภัณฑ์ที่ต้องการผลิต
    *   *บอกอะไรเรา:* สินค้าที่จะต้องผลิตตามคำสั่งนี้
*   `QuantityToProduce` (INT, NOT NULL): จำนวนที่ต้องการผลิต
    *   *บอกอะไรเรา:* เป้าหมายจำนวนการผลิตสำหรับคำสั่งนี้
*   `QuantityProducedGood` (INT, DEFAULT 0): จำนวนที่ผลิตได้ดี
    *   *บอกอะไรเรา:* จำนวนสินค้าที่ผลิตเสร็จและมีคุณภาพตามมาตรฐาน
*   `QuantityScrapped` (INT, DEFAULT 0): จำนวนที่ผลิตแล้วเสีย
    *   *บอกอะไรเรา:* จำนวนสินค้าที่ผลิตแล้วไม่ได้คุณภาพ
*   `ScheduledStartDate` (TIMESTAMP): วันที่วางแผนเริ่มผลิต
    *   *บอกอะไรเรา:* กำหนดการเริ่มต้นการผลิต
*   `ScheduledEndDate` (TIMESTAMP): วันที่วางแผนผลิตเสร็จ
    *   *บอกอะไรเรา:* กำหนดการสิ้นสุดการผลิต
*   `ActualStartDate` (TIMESTAMP): วันที่เริ่มผลิตจริง
    *   *บอกอะไรเรา:* เวลาที่เริ่มลงมือผลิตจริง
*   `ActualEndDate` (TIMESTAMP): วันที่ผลิตเสร็จจริง
    *   *บอกอะไรเรา:* เวลาที่การผลิตเสร็จสิ้นลงจริง
*   `WorkOrderStatus` (VARCHAR(50), NOT NULL, DEFAULT 'Planned'): สถานะคำสั่งผลิต (เช่น 'Planned', 'Released', 'In Progress', 'Completed', 'Cancelled', 'Error_NoRouting')
    *   *บอกอะไรเรา:* ความคืบหน้าของคำสั่งผลิตในไลน์การผลิต
*   `BatchID_Assigned` (VARCHAR(100), NULL, UNIQUE): รหัส Batch ที่กำหนดให้ (ถ้ามีการผลิตเป็น Batch)
    *   *บอกอะไรเรา:* ใช้ในการติดตามสินค้าที่ผลิตในล็อตเดียวกัน
*   `Notes` (TEXT): หมายเหตุเพิ่มเติม
    *   *บอกอะไรเรา:* ข้อมูลเพิ่มเติมเกี่ยวกับคำสั่งผลิตนี้

**9. ตาราง: `Machines` (เครื่องจักร/สถานีงาน - MES)**

*   `MachineID` (VARCHAR(50), PK): รหัสเครื่องจักร
    *   *บอกอะไรเรา:* ตัวระบุที่ไม่ซ้ำกันสำหรับแต่ละเครื่องจักรหรือสถานีงาน
*   `MachineName` (VARCHAR(255), NOT NULL): ชื่อเครื่องจักร
    *   *บอกอะไรเรา:* ชื่อเรียกของเครื่องจักร
*   `ProcessArea` (VARCHAR(100), NOT NULL): พื้นที่กระบวนการผลิตที่เครื่องจักรนี้อยู่ (เช่น 'FPC_Fabrication', 'FPC_Assembly')
    *   *บอกอะไรเรา:* การจัดกลุ่มเครื่องจักรตามขั้นตอนการผลิตหลัก
*   `Location` (VARCHAR(100)): ตำแหน่งที่ตั้งของเครื่องจักร
    *   *บอกอะไรเรา:* รายละเอียดตำแหน่งภายในโรงงาน
*   `Description` (TEXT): คำอธิบายเครื่องจักร
    *   *บอกอะไรเรา:* ข้อมูลเพิ่มเติมเกี่ยวกับเครื่องจักร

**10. ตาราง: `DefectCodes` (รหัสสาเหตุของเสีย - MES)**

*   `DefectCodeID` (VARCHAR(20), PK): รหัสของเสีย
    *   *บอกอะไรเรา:* ตัวระบุที่ไม่ซ้ำกันสำหรับแต่ละประเภทของเสีย
*   `DefectDescription` (VARCHAR(255), NOT NULL): รายละเอียดของเสีย
    *   *บอกอะไรเรา:* คำอธิบายลักษณะของเสีย
*   `ProcessAreaAffected` (VARCHAR(100)): พื้นที่กระบวนการที่มักเกิดของเสียนี้ (เช่น 'FPC_Fabrication_Etching')
    *   *บอกอะไรเรา:* ช่วยในการวิเคราะห์ว่าของเสียประเภทนี้มักเกิดที่ขั้นตอนไหน
*   `Severity` (VARCHAR(50)): ระดับความรุนแรงของของเสีย (เช่น 'Critical', 'Major', 'Minor')
    *   *บอกอะไรเรา:* ผลกระทบของของเสียต่อคุณภาพผลิตภัณฑ์

**11. ตาราง: `Operators` (ผู้ปฏิบัติงาน - MES)**

*   `OperatorID` (VARCHAR(50), PK): รหัสผู้ปฏิบัติงาน
    *   *บอกอะไรเรา:* ตัวระบุที่ไม่ซ้ำกันสำหรับแต่ละพนักงานที่ทำงานในไลน์ผลิต
*   `OperatorName` (VARCHAR(150), NOT NULL): ชื่อผู้ปฏิบัติงาน
    *   *บอกอะไรเรา:* ชื่อของพนักงาน

**12. ตาราง: `ProductionLog` (บันทึกข้อมูลการผลิต MES)**

*   `LogID` (BIGSERIAL, PK): ID ของ Log (Auto-increment)
*   `Timestamp` (TIMESTAMP, NOT NULL, DEFAULT CURRENT_TIMESTAMP): เวลาที่บันทึกข้อมูล
    *   *บอกอะไรเรา:* เวลาที่เกิดกิจกรรมการผลิตนี้
*   `WorkOrderID_FK` (VARCHAR(50), NOT NULL, FK to WorkOrders): รหัสคำสั่งผลิต
    *   *บอกอะไรเรา:* คำสั่งผลิตที่เกี่ยวข้องกับ Log นี้
*   `ProductID_FK` (VARCHAR(50), NOT NULL, FK to Products): รหัสผลิตภัณฑ์
    *   *บอกอะไรเรา:* ผลิตภัณฑ์ที่กำลังผลิตใน Log นี้
*   `MachineID_FK` (VARCHAR(50), NOT NULL, FK to Machines): รหัสเครื่องจักร
    *   *บอกอะไรเรา:* เครื่องจักรที่ใช้ในการผลิตตาม Log นี้
*   `OperatorID_FK` (VARCHAR(50), NULL, FK to Operators): รหัสผู้ปฏิบัติงาน
    *   *บอกอะไรเรา:* พนักงานที่ปฏิบัติงานในช่วงเวลานั้น (ถ้ามีการบันทึก)
*   `InputQuantity` (INT, DEFAULT 0): จำนวนที่เข้าสู่กระบวนการ/เครื่องจักรนี้
    *   *บอกอะไรเรา:* ปริมาณงานที่ป้อนเข้าเครื่องจักรในรอบนั้น
*   `OutputGoodQuantity` (INT, NOT NULL, DEFAULT 0): จำนวนที่ผลิตได้ดีจากเครื่องจักรนี้
    *   *บอกอะไรเรา:* ผลผลิตที่ดีที่ได้จากเครื่องจักรในรอบนั้น
*   `OutputDefectQuantity` (INT, NOT NULL, DEFAULT 0): จำนวนที่ผลิตแล้วเสียจากเครื่องจักรนี้
    *   *บอกอะไรเรา:* ผลผลิตที่เสียที่ได้จากเครื่องจักรในรอบนั้น
*   `MachineStatus` (VARCHAR(50)): สถานะเครื่องจักร ณ เวลานั้น (เช่น 'RUNNING', 'DOWN')
    *   *บอกอะไรเรา:* สภาพการทำงานของเครื่องจักร (สำคัญสำหรับ OEE)
*   `ReworkFlag` (BOOLEAN, DEFAULT FALSE): ระบุว่าเป็นงานซ่อมหรือไม่
    *   *บอกอะไรเรา:* แยกแยะระหว่างการผลิตปกติกับงานแก้ไข
*   `Notes` (TEXT): หมายเหตุเพิ่มเติม
    *   *บอกอะไรเรา:* ข้อมูลเพิ่มเติมเกี่ยวกับ Log การผลิตนี้

**13. ตาราง: `DefectLog` (บันทึกข้อมูลของเสียโดยละเอียด MES)**

*   `DefectLogID` (BIGSERIAL, PK): ID ของ Log ของเสีย (Auto-increment)
*   `ProductionLogID_FK` (BIGINT, NOT NULL, FK to ProductionLog): ID ของ Log การผลิตที่เกี่ยวข้อง
    *   *บอกอะไรเรา:* เชื่อมโยงของเสียนี้กับกิจกรรมการผลิตที่ทำให้เกิด
*   `DefectCodeID_FK` (VARCHAR(20), NOT NULL, FK to DefectCodes): รหัสของเสีย
    *   *บอกอะไรเรา:* ประเภทของเสียที่เกิดขึ้น
*   `DefectInstanceQuantity` (INT, NOT NULL, DEFAULT 1): จำนวนของเสียที่เกิดขึ้นสำหรับ Code นี้ในครั้งนี้
    *   *บอกอะไรเรา:* ปริมาณของเสียสำหรับประเภทนั้นๆ (ปกติคือ 1 ถ้าบันทึกทีละชิ้น)
*   `DefectLocation` (VARCHAR(100)): ตำแหน่งที่เกิดของเสียบนชิ้นงาน (ถ้ามี)
    *   *บอกอะไรเรา:* ข้อมูลเพิ่มเติมเพื่อวิเคราะห์สาเหตุ
*   `DefectTimestamp` (TIMESTAMP, NOT NULL, DEFAULT CURRENT_TIMESTAMP): เวลาที่บันทึกของเสีย
    *   *บอกอะไรเรา:* เวลาที่ตรวจพบและบันทึกของเสีย